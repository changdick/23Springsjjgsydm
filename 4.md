# 第四章 查找和排序算法
## 1. 顺序查找
计算其平均查找长度 ： n个元素， 第i个找到要比较n次， 所以 1加到n 除以n，即 $\frac{n(n+1)}{2n}=\frac{n+1}{2}$
## 2. 二分查找(折半查找)
二分查找的查找对象是**有序**的顺序存储序列，算法先设置一个下限值和上限值，每次取中间的与目标**比较**，如果相等就找到，如果目标比中间值小，就在中间值左边的序列做二分查找;如果目标比中间值大，就在中间值右边的序列做二分查找。当下限值比上限值大，是非法的，判断找不到，且不会进行比较(只有下限<上限，即合法的时候，才会进行比较)。
### 计算成功和失败的平均查找长度ASL
方法：画判定树。每次比较的是哪个元素，画成树形，每一层说明经历一次比较，即一次查找。  
一个结点查找成功的查找次数：在第几层就是比较了几次。  
查找失败的查找次数：首先，把每个空指针域填上表示失败的叶子结点。这些叶子结点说明失败，且**没有发生比较**，因为初始条件非法，下限高于上限，直接结束并判断失败了。所以每个表示失败的结点查找长度是其父亲节点的层数。

查找成功的平均查找长度： 把每个成功结点的查找次数先求总和，再除以结点数  （成功结点一般画成圆的，查找对象有多少元素，成功结点就是多少个）   
查找失败的平均查找长度： 把每个"失败结点"的查找次数先求总和，再除以表示失败的结点数  （失败节点就是画成方形的，得画了才知道有多少个）  

## 3. 重点：哈希表查找(散列查找)
要回构造哈希函数，创建哈希表，解决冲突，计算平均查找长度。
### 构造哈希函数
#### 直接定址法
直接用线性函数 $f(x)=a \times x+b$ 来取地址。由于用线性函数定址不会冲突，而且太简单，考的感觉不大。
#### 质数取余法(除留余数法)
如果设置了散列表长为m，就取一个比m小的质数n，那么哈希函数H(x) = x % n, 即关键字对那个质数取余数就得到地址。可能会冲突，往往和解决冲突连在一起。
### 解决冲突的办法
#### 开放寻址法
开放寻址法是在探测中遇到冲突后，使用特定的探测策略在表上找到空槽，作为地址。分为线性探测再散列和二次探测/平方探测再散列。
##### 装填因子
装填因子 $\alpha$是指散列表中以装填的格数与总格数的比值， 即哈希表中记录数/哈希表长。记住一个公式。**线性探测法查找成功的ASL**为 $$\frac{1}{2}(1+\frac{1}{1-\alpha})$$
而查找失败的ASL为 $$\frac{1}{2}(1+\frac{1}{(1-\alpha)^2})$$
例如，有题目要求装填因子达到多少，那么就要根据装填因子和待存储元素个数确定表长。  
例如，有题目要求构造哈希函数，新插入键值的平均探测次数不得多于多少次，即ASL的范围，就要用装填因子的公式代入，求出装填因子达到多少，从而求出表长，才能确定质数取余法取得质数是多少。
##### 线性探测再散列
规定一个步长，如果有某个key值，经哈希函数H后，发现H(key)的位置已经储存其他元素，即发生了冲突，那么就把当前的H(key)加上步长，对表长取余数，探测这个位置是否为空槽。即用固定的步长向前探测，直至找到了空槽为止。换言之，冲突时探测的函数为 $(H(key)+d_i)%m$, 其中$d_i$为等差数列，比如1,2,3... 或者3,6,9...
##### 平方探测再散列
策略与线性探测相同，但是序列 $d_i$没有固定的步长，而是一个二次序列 $1^2,-1^2,2^2,-2^2,3^2,-3^2...$
#### 再哈希法
再哈希法也是在散列表中再找一个空槽，但是它的策略是准备第二个哈希函数，对这个key值再作用一次，映射到一个新的地址。
#### 链地址法
链地址法出现冲突时，不会去找别的地址，而是在有冲突的地址上建立链表，把元素放在链表上。如果拿着key值找到地址，发现不是要找的元素，那就遍历该地址上的链表，从而找到目标。
### 求平均查找长度
成功的平均查找长度，分母肯定是哈希表存储的记录个数。失败的平均查找长度，分母取决于哈希函数会算出几种结果，比如表长16，需要存储8个，哈希函数用来取余的质数是13，这种情况下哈希函数的值域包含13个值，每个值都会有查找失败的可能性，所以分母是13. 

### 注意
三种解决冲突的办法ppt都对应有例题， 要求会两种构造方法，三种解决冲突的办法

## 4. 排序的稳定性表格

|直接插入排序|简单选择排序|折半插入排序|冒泡排序|希尔排序|堆排序|快速排序|基数排序|
|-----------|-----------|------|------|--------|------|------|--------|
| 稳定      |不稳定|      不稳定| 稳定|    不稳定|不稳定|稳定|不稳定|稳定|

